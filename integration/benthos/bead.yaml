input:
  label: ""
  subprocess:
    name: python
    args: [get-all-taxi-availability.py]

output:
  label: ""
  sql_raw:
    driver: postgres
    dsn: postgres://admin:password@localhost:5432/bead?sslmode=disable
    query: INSERT INTO taxi_availability (location) VALUES (ST_SetSRID(ST_MakePoint($1, $2), 4326));
    args_mapping: |
      root = [ this.Longitude, this.Latitude ]
    batching:
      count: 500
      period: 1s
